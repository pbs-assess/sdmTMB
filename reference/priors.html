<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prior distributions — sdmTMBpriors • sdmTMB</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prior distributions — sdmTMBpriors"><meta name="description" content="
Optional priors/penalties on model parameters. This results in penalized
likelihood within TMB or can be used as priors if the model is passed to
tmbstan (see the Bayesian vignette).
Note that Jacobian adjustments are only made if bayesian = TRUE when the
sdmTMB() model is fit. I.e., the final model will be fit with tmbstan
and priors are specified then bayesian should be set to TRUE. Otherwise,
leave bayesian = FALSE.
pc_matern() is the Penalized Complexity prior for the Matern
covariance function."><meta property="og:description" content="
Optional priors/penalties on model parameters. This results in penalized
likelihood within TMB or can be used as priors if the model is passed to
tmbstan (see the Bayesian vignette).
Note that Jacobian adjustments are only made if bayesian = TRUE when the
sdmTMB() model is fit. I.e., the final model will be fit with tmbstan
and priors are specified then bayesian should be set to TRUE. Otherwise,
leave bayesian = FALSE.
pc_matern() is the Penalized Complexity prior for the Matern
covariance function."><meta property="og:image" content="https://pbs-assess.github.io/sdmTMB/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sdmTMB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0.9006</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/basic-intro.html">Introduction to modelling with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/bayesian.html">Bayesian estimation with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/cross-validation.html">Cross-validation for model evaluation and comparison</a></li>
    <li><a class="dropdown-item" href="../articles/delta-models.html">Fitting delta (hurdle) models with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/forecasting.html">Forecasting with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/ggeffects.html">Visualizing marginal effects in sdmTMB models with ggeffects</a></li>
    <li><a class="dropdown-item" href="../articles/index-standardization.html">Index standardization with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/model-description.html">sdmTMB model description</a></li>
    <li><a class="dropdown-item" href="../articles/multispecies.html">Fitting multispecies models with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/poisson-link.html">Poisson-link delta models</a></li>
    <li><a class="dropdown-item" href="../articles/presence-only.html">Spatial Modeling of Presence-Only Data with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/pretty-plots.html">Making pretty maps with sdmTMB output</a></li>
    <li><a class="dropdown-item" href="../articles/residual-checking.html">Residual checking with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/spatial-trend-models.html">Fitting spatial trend models with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/threshold-models.html">Threshold modeling with sdmTMB</a></li>
    <li><a class="dropdown-item" href="../articles/visreg.html">Visualizing sdmTMB conditional effects using visreg</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pbs-assess/sdmTMB/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prior distributions</h1>
      <small class="dont-index">Source: <a href="https://github.com/pbs-assess/sdmTMB/blob/main/R/priors.R" class="external-link"><code>R/priors.R</code></a></small>
      <div class="d-none name"><code>priors.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Optional priors/penalties on model parameters. This results in penalized
likelihood within TMB or can be used as priors if the model is passed to
<span class="pkg">tmbstan</span> (see the Bayesian vignette).</p>
<p><strong>Note that Jacobian adjustments are only made if <code>bayesian = TRUE</code></strong> when the
<code><a href="sdmTMB.html">sdmTMB()</a></code> model is fit. I.e., the final model will be fit with <span class="pkg">tmbstan</span>
and priors are specified then <code>bayesian</code> should be set to <code>TRUE</code>. Otherwise,
leave <code>bayesian = FALSE</code>.</p>
<p><code>pc_matern()</code> is the Penalized Complexity prior for the Matern
covariance function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sdmTMBpriors</span><span class="op">(</span></span>
<span>  matern_s <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="cn">NA</span>, sigma_lt <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  matern_st <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="cn">NA</span>, sigma_lt <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  phi <span class="op">=</span> <span class="fu">halfnormal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  ar1_rho <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  tweedie_p <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  b <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  sigma_V <span class="op">=</span> <span class="fu">gamma_cv</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  threshold_breakpt_slope <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  threshold_breakpt_cut <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  threshold_logistic_s50 <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  threshold_logistic_s95 <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  threshold_logistic_smax <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">normal</span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">halfnormal</span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gamma_cv</span><span class="op">(</span><span class="va">location</span>, <span class="va">cv</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mvnormal</span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">location</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pc_matern</span><span class="op">(</span><span class="va">range_gt</span>, <span class="va">sigma_lt</span>, range_prob <span class="op">=</span> <span class="fl">0.05</span>, sigma_prob <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-matern-s">matern_s<a class="anchor" aria-label="anchor" href="#arg-matern-s"></a></dt>
<dd><p>A PC (Penalized Complexity) prior (<code>pc_matern()</code>) on the
spatial random field Matérn parameters.</p></dd>


<dt id="arg-matern-st">matern_st<a class="anchor" aria-label="anchor" href="#arg-matern-st"></a></dt>
<dd><p>Same as <code>matern_s</code> but for the spatiotemporal random field.
Note that you will likely want to set <code>share_fields = FALSE</code> if you choose
to set both a spatial and spatiotemporal Matérn PC prior since they both
include a prior on the spatial range parameter.</p></dd>


<dt id="arg-phi">phi<a class="anchor" aria-label="anchor" href="#arg-phi"></a></dt>
<dd><p>A <code>halfnormal()</code> prior for the dispersion parameter in the
observation distribution.</p></dd>


<dt id="arg-ar-rho">ar1_rho<a class="anchor" aria-label="anchor" href="#arg-ar-rho"></a></dt>
<dd><p>A <code>normal()</code> prior for the AR1 random field parameter. Note
the parameter has support <code>-1 &lt; ar1_rho &lt; 1</code>.</p></dd>


<dt id="arg-tweedie-p">tweedie_p<a class="anchor" aria-label="anchor" href="#arg-tweedie-p"></a></dt>
<dd><p>A <code>normal()</code> prior for the Tweedie power parameter. Note the
parameter has support <code>1 &lt; tweedie_p &lt; 2</code> so choose a mean appropriately.</p></dd>


<dt id="arg-b">b<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p><code>normal()</code> priors for the main population-level 'beta' effects.</p></dd>


<dt id="arg-sigma-v">sigma_V<a class="anchor" aria-label="anchor" href="#arg-sigma-v"></a></dt>
<dd><p><code>gamma_cv()</code> priors for any time-varying parameter SDs.</p></dd>


<dt id="arg-threshold-breakpt-slope">threshold_breakpt_slope<a class="anchor" aria-label="anchor" href="#arg-threshold-breakpt-slope"></a></dt>
<dd><p>A <code>normal()</code> prior for the slope of the
linear (hockey stick) function.</p></dd>


<dt id="arg-threshold-breakpt-cut">threshold_breakpt_cut<a class="anchor" aria-label="anchor" href="#arg-threshold-breakpt-cut"></a></dt>
<dd><p>A <code>normal()</code> prior for the cutoff of the
linear (hockey stick) function.</p></dd>


<dt id="arg-threshold-logistic-s-">threshold_logistic_s50<a class="anchor" aria-label="anchor" href="#arg-threshold-logistic-s-"></a></dt>
<dd><p>A <code>normal()</code> prior for the parameter at which
f(x) = 0.5.</p></dd>


<dt id="arg-threshold-logistic-s-">threshold_logistic_s95<a class="anchor" aria-label="anchor" href="#arg-threshold-logistic-s-"></a></dt>
<dd><p>A <code>normal()</code> prior for the parameter at which
f(x) = 0.95.</p></dd>


<dt id="arg-threshold-logistic-smax">threshold_logistic_smax<a class="anchor" aria-label="anchor" href="#arg-threshold-logistic-smax"></a></dt>
<dd><p>A <code>normal()</code> prior for the parameter at which
f(x) is maximized.</p></dd>


<dt id="arg-location">location<a class="anchor" aria-label="anchor" href="#arg-location"></a></dt>
<dd><p>Location parameter(s). Typically the mean.</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Scale parameter. For <code>normal()</code>/<code>halfnormal()</code>: standard
deviation(s). For <code>mvnormal()</code>: variance-covariance matrix.</p></dd>


<dt id="arg-cv">cv<a class="anchor" aria-label="anchor" href="#arg-cv"></a></dt>
<dd><p>Coefficient of variation (SD/mean).</p></dd>


<dt id="arg-range-gt">range_gt<a class="anchor" aria-label="anchor" href="#arg-range-gt"></a></dt>
<dd><p>A value one expects the spatial or spatiotemporal range is
<strong>g</strong>reater <strong>t</strong>han with <code>1 - range_prob</code> probability.</p></dd>


<dt id="arg-sigma-lt">sigma_lt<a class="anchor" aria-label="anchor" href="#arg-sigma-lt"></a></dt>
<dd><p>A value one expects the spatial or spatiotemporal marginal
standard deviation (<code>sigma_O</code> or <code>sigma_E</code> internally) is <strong>l</strong>ess <strong>t</strong>han
with <code>1 - sigma_prob</code> probability.</p></dd>


<dt id="arg-range-prob">range_prob<a class="anchor" aria-label="anchor" href="#arg-range-prob"></a></dt>
<dd><p>Probability. See description for <code>range_gt</code>.</p></dd>


<dt id="arg-sigma-prob">sigma_prob<a class="anchor" aria-label="anchor" href="#arg-sigma-prob"></a></dt>
<dd><p>Probability. See description for <code>sigma_lt</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list with values for the specified priors.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Meant to be passed to the <code>priors</code> argument in <code><a href="sdmTMB.html">sdmTMB()</a></code>.</p>
<p><code>normal()</code> and <code>halfnormal()</code> define normal and half-normal priors that, at
this point, must have a location (mean) parameter of 0. <code>halfnormal()</code> is the
same as <code>normal()</code> but can be used to make the syntax clearer. It is intended
to be used for parameters that have support <code>&gt; 0</code>.</p>
<p>See <a href="https://arxiv.org/abs/1503.00256" class="external-link">https://arxiv.org/abs/1503.00256</a> for a description of the
PC prior for Gaussian random fields. Quoting the discussion (and substituting
the argument names in <code>pc_matern()</code>):
"In the simulation study we observe good coverage of the equal-tailed 95%
credible intervals when the prior satisfies <code>P(sigma &gt; sigma_lt) = 0.05</code> and
<code>P(range &lt; range_gt) = 0.05</code>, where <code>sigma_lt</code> is between 2.5 to 40 times
the true marginal standard deviation and <code>range_gt</code> is between 1/10 and 1/2.5
of the true range."</p>
<p>Keep in mind that the range is dependent on the units and scale of the
coordinate system. In practice, you may choose to try fitting the model
without a PC prior and then constraining the model from there. A better
option would be to simulate from a model with a given range and sigma to
choose reasonable values for the system or base the prior on knowledge from a
model fit to a similar system but with more spatial information in the data.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fuglstad, G.-A., Simpson, D., Lindgren, F., and Rue, H. (2016) Constructing
Priors that Penalize the Complexity of Gaussian Random Fields.
arXiv:1503.00256</p>
<p>Simpson, D., Rue, H., Martins, T., Riebler, A., and Sørbye, S. (2015)
Penalising model component complexity: A principled, practical approach to
constructing priors. arXiv:1403.4630</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot_pc_matern.html">plot_pc_matern()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">normal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"dist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "normal"</span>
<span class="r-in"><span><span class="fu">halfnormal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"dist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "normal"</span>
<span class="r-in"><span><span class="fu">gamma_cv</span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   25 0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"dist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gamma"</span>
<span class="r-in"><span><span class="fu">mvnormal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    0    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"dist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mvnormal"</span>
<span class="r-in"><span><span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5.00 1.00 0.05 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"dist")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "pc_matern"</span>
<span class="r-in"><span><span class="fu"><a href="plot_pc_matern.html">plot_pc_matern</a></span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="priors-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">pcod</span>, <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2011</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pcod_spde</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_mesh.html">make_mesh</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span><span class="op">)</span>, cutoff <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - no priors on population-level effects (`b`)</span></span></span>
<span class="r-in"><span><span class="co"># - halfnormal(0, 10) prior on dispersion parameter `phi`</span></span></span>
<span class="r-in"><span><span class="co"># - Matern PC priors on spatial `matern_s` and spatiotemporal</span></span></span>
<span class="r-in"><span><span class="co">#   `matern_st` random field parameters</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdmTMB.html">sdmTMB</a></span><span class="op">(</span><span class="va">density</span> <span class="op">~</span> <span class="fu">s</span><span class="op">(</span><span class="va">depth</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>, mesh <span class="op">=</span> <span class="va">pcod_spde</span>, family <span class="op">=</span> <span class="fu"><a href="families.html">tweedie</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  share_range <span class="op">=</span> <span class="cn">FALSE</span>, time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  priors <span class="op">=</span> <span class="fu">sdmTMBpriors</span><span class="op">(</span></span></span>
<span class="r-in"><span>    phi <span class="op">=</span> <span class="fu">halfnormal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    matern_s <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    matern_st <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - no prior on intercept</span></span></span>
<span class="r-in"><span><span class="co"># - normal(0, 1) prior on depth coefficient</span></span></span>
<span class="r-in"><span><span class="co"># - no prior on the dispersion parameter `phi`</span></span></span>
<span class="r-in"><span><span class="co"># - Matern PC prior</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdmTMB.html">sdmTMB</a></span><span class="op">(</span><span class="va">density</span> <span class="op">~</span> <span class="va">depth_scaled</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>, mesh <span class="op">=</span> <span class="va">pcod_spde</span>, family <span class="op">=</span> <span class="fu"><a href="families.html">tweedie</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  spatiotemporal <span class="op">=</span> <span class="st">"off"</span>,</span></span>
<span class="r-in"><span>  priors <span class="op">=</span> <span class="fu">sdmTMBpriors</span><span class="op">(</span></span></span>
<span class="r-in"><span>    b <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    matern_s <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You get a prior, you get a prior, you get a prior!</span></span></span>
<span class="r-in"><span><span class="co"># (except on the annual means; see the `NA`s)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdmTMB.html">sdmTMB</a></span><span class="op">(</span><span class="va">density</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="va">depth_scaled</span> <span class="op">+</span> <span class="va">depth_scaled2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>, time <span class="op">=</span> <span class="st">"year"</span>, mesh <span class="op">=</span> <span class="va">pcod_spde</span>, family <span class="op">=</span> <span class="fu"><a href="families.html">tweedie</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"log"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  share_range <span class="op">=</span> <span class="cn">FALSE</span>, spatiotemporal <span class="op">=</span> <span class="st">"AR1"</span>,</span></span>
<span class="r-in"><span>  priors <span class="op">=</span> <span class="fu">sdmTMBpriors</span><span class="op">(</span></span></span>
<span class="r-in"><span>    b <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    phi <span class="op">=</span> <span class="fu">halfnormal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="co"># tweedie_p = normal(1.5, 2),</span></span></span>
<span class="r-in"><span>    ar1_rho <span class="op">=</span> <span class="fu">normal</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    matern_s <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    matern_st <span class="op">=</span> <span class="fu">pc_matern</span><span class="op">(</span>range_gt <span class="op">=</span> <span class="fl">5</span>, sigma_lt <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sean C. Anderson, Eric J. Ward, Philina A. English, Lewis A. K. Barnett, James T. Thorson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

