% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/index.R
\name{get_index}
\alias{get_index}
\alias{get_cog}
\title{Extract a relative biomass/abundance index or a center of gravity}
\usage{
get_index(obj, bias_correct = FALSE, level = 0.95, ...)

get_cog(obj, bias_correct = FALSE, level = 0.95, ...)
}
\arguments{
\item{obj}{Output from \code{\link[=predict.sdmTMB]{predict.sdmTMB()}} with \code{return_tmb_object = TRUE}.}

\item{bias_correct}{Should bias correction be implemented \code{\link[TMB:sdreport]{TMB::sdreport()}}?}

\item{level}{The confidence level.}

\item{...}{Passed to \code{\link[TMB:sdreport]{TMB::sdreport()}}.}
}
\description{
Extract a relative biomass/abundance index or a center of gravity
}
\examples{
\donttest{
if (inla_installed()) {
# Use a small number of knots for this example to make it fast:
pcod_spde <- make_mesh(pcod, c("X", "Y"), n_knots = 60, type = "kmeans")
m <- sdmTMB(
 data = pcod,
 formula = density ~ 0 + as.factor(year),
 time = "year", mesh = pcod_spde, family = tweedie(link = "log")
)
# Note `return_tmb_object = TRUE` and the prediction grid:
predictions <- predict(m, newdata = qcs_grid, return_tmb_object = TRUE)
ind <- get_index(predictions)

if (require("ggplot2", quietly = TRUE)) {
ggplot(ind, aes(year, est)) + geom_line() +
  geom_ribbon(aes(ymin = lwr, ymax = upr), alpha = 0.4)
}

cog <- get_cog(predictions)
cog
}
}

}
\seealso{
\code{\link[=get_index_sims]{get_index_sims()}}
}
